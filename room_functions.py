import requests
import player_functions
import os

from Room import Room

from RoomObject import RoomObject

from LetterSoup import LetterSoup
from PythonQuiz import PythonQuiz
from GuessingGame import GuessingGame
from Hangman import Hangman
from MathQuestions import MathQuestions
from Cryptogram import Cryptogram
from FindTheLogic import FindTheLogic
from UnimetQuiz import UnimetQuiz
from EmojiMemory import EmojiMemory
from BooleanLogic import BooleanLogic
from Blackjack import Blackjack
from ShuffledWords import ShuffledWords
from RandomNumber import RandomNumber


def get_rooms_info_from_api():  
    """Función para obtener la información de los cuartos del endpoint de la API para el proyecto.

    Returns:
        list: información de los cuartos obtenida del endpoint de la API para el proyecto.
    """
    url = "https://api-escapamet.vercel.app/"

    response = requests.request("GET", url)

    rooms_info = response.json()

    return rooms_info

def define_games(games):
    """Función para instanciar cada tipo de juego.

    Args:
        games (dict): diccionario con la información de cada juego para cada cuarto y cada objeto.

    Returns:
        list: retorna 5 listas: una para los juegos de cada cuarto.
    """
    
    letter_soup = LetterSoup(games['Laboratorio SL001']['pizarra']['requirement'], games['Laboratorio SL001']['pizarra']['name'], games['Laboratorio SL001']['pizarra']['award'], games['Laboratorio SL001']['pizarra']['rules'], games['Laboratorio SL001']['pizarra']['questions'])
    python_quiz = PythonQuiz(games['Laboratorio SL001']['computadora 1']['requirement'], games['Laboratorio SL001']['computadora 1']['name'], games['Laboratorio SL001']['computadora 1']['award'], games['Laboratorio SL001']['computadora 1']['rules'], games['Laboratorio SL001']['computadora 1']['questions'], games['Laboratorio SL001']['computadora 1']['message_requirement'])
    guessing_game = GuessingGame('contraseña: bptsp05-7r3m3nd4-m473r14', games['Laboratorio SL001']['computadora 2']['name'], games['Laboratorio SL001']['computadora 2']['award'], games['Laboratorio SL001']['computadora 2']['rules'], games['Laboratorio SL001']['computadora 2']['questions'], games['Laboratorio SL001']['computadora 2']['message_requirement']) #en este caso, al requirement es la contraseña inventada por mí
    
    lab_games = [letter_soup, python_quiz, guessing_game]

    hangman = Hangman(games['Biblioteca']['mueble de libros']['requirement'], games['Biblioteca']['mueble de libros']['name'], games['Biblioteca']['mueble de libros']['award'], games['Biblioteca']['mueble de libros']['rules'], games['Biblioteca']['mueble de libros']['questions'])
    math_questions = MathQuestions(games['Biblioteca']['mueble de sentarse']['requirement'], games['Biblioteca']['mueble de sentarse']['name'], games['Biblioteca']['mueble de sentarse']['award'], games['Biblioteca']['mueble de sentarse']['rules'], games['Biblioteca']['mueble de sentarse']['questions'], games['Biblioteca']['mueble de sentarse']['message_requirement'])
    cryptogram = Cryptogram(games['Biblioteca']['mueble con gabetas']['requirement'], games['Biblioteca']['mueble con gabetas']['name'], games['Biblioteca']['mueble con gabetas']['award'], games['Biblioteca']['mueble con gabetas']['rules'], games['Biblioteca']['mueble con gabetas']['questions'], games['Biblioteca']['mueble con gabetas']['message_requirement'])
    
    library_games = [hangman, math_questions, cryptogram]

    find_the_logic = FindTheLogic(games['Plaza Rectorado']['Saman']['requirement'], games['Plaza Rectorado']['Saman']['name'], games['Plaza Rectorado']['Saman']['award'], games['Plaza Rectorado']['Saman']['rules'], games['Plaza Rectorado']['Saman']['questions'], games['Plaza Rectorado']['Saman']['message_requirement'])
    unimet_quiz = UnimetQuiz(games['Plaza Rectorado']['Banco 1']['requirement'], games['Plaza Rectorado']['Banco 1']['name'], games['Plaza Rectorado']['Banco 1']['award'], games['Plaza Rectorado']['Banco 1']['rules'], games['Plaza Rectorado']['Banco 1']['questions'])
    emoji_memory = EmojiMemory(games['Plaza Rectorado']['Banco 2']['requirement'], games['Plaza Rectorado']['Banco 2']['name'], games['Plaza Rectorado']['Banco 2']['award'], games['Plaza Rectorado']['Banco 2']['rules'], games['Plaza Rectorado']['Banco 2']['questions'])
    
    plaza_games = [find_the_logic, unimet_quiz, emoji_memory]
    
    boolean_logic = BooleanLogic(games['Pasillo Laboratorios ']['puerta']['requirement'], games['Pasillo Laboratorios ']['puerta']['name'], games['Pasillo Laboratorios ']['puerta']['award'], games['Pasillo Laboratorios ']['puerta']['rules'], games['Pasillo Laboratorios ']['puerta']['questions'], games['Pasillo Laboratorios ']['puerta']['message_requirement'])
    
    corridor_games = [boolean_logic]
    
    blackjack = Blackjack(games['Cuarto de Servidores ']['puerta']['requirement'], games['Cuarto de Servidores ']['puerta']['award'], games['Cuarto de Servidores ']['puerta']['rules'], games['Cuarto de Servidores ']['puerta']['message_requirement'])
    shuffled_words = ShuffledWords(games['Cuarto de Servidores ']['Rack']['requirement'], games['Cuarto de Servidores ']['Rack']['name'], games['Cuarto de Servidores ']['Rack']['award'], games['Cuarto de Servidores ']['Rack']['rules'], games['Cuarto de Servidores ']['Rack']['questions'])
    random_number = RandomNumber(games['Cuarto de Servidores ']['papelera']['requirement'], games['Cuarto de Servidores ']['papelera']['name'], games['Cuarto de Servidores ']['papelera']['award'], games['Cuarto de Servidores ']['papelera']['rules'], games['Cuarto de Servidores ']['papelera']['questions'])
    
    server_room_games = [blackjack, shuffled_words, random_number]

    return lab_games, library_games, plaza_games, corridor_games, server_room_games

def define_rooms():
    """Función para instanciar cada cuarto del juego.

    Returns:
        Room: retorna los 5 cuartos (instancias de la clase Room).
    """

    rooms_information = get_rooms_info_from_api()

    rooms_images = ['''
      ----------LABORATORIO SL001-------------------------------------------
         _________________________________________________________________
        |                         P I Z A R R A                           |
    ←   |                   _________________________                     |  →  
    P   |                  ||                       ||                    |  C  S
    U   |                  ||      O/     ᴀɴᴘᴡᴛᴇ    ||                    |  U  E
    E   | C O M P U  1     ||     S|      ᴋxᴍsʏᴏ    ||       C O M P U 2  |  A  R
    R   |                  ||      |\     sɴᴅᴇᴀᴜ    ||                    |  R  V
    T   |  ▐▓█▀▀▀▀▀▀▀▀▀█▓▌░▄▄▄▄▄░__________________▐▓█▀▀▀▀▀▀▀▀▀█▓▌░▄▄▄▄▄░ |  T  I
    A   |  ▐▓█░░░░░░░░░█▓▌░█▄▄▄█░                  ▐▓█░░░░░░░░░█▓▌░█▄▄▄█░ |  O  D
        |  ▐▓█░░░░░░░░░█▓▌░█▄▄▄█░                  ▐▓█░░░░░░░░░█▓▌░█▄▄▄█░ |     O
    L   |  ▐▓█▄▄▄▄▄▄▄▄▄█▓▌░█████░                  ▐▓█▄▄▄▄▄▄▄▄▄█▓▌░█████░ |  D  R
    A   | _░░░░▄▄███▄▄░░░░░█████░__               _░░░░▄▄███▄▄░░░░░█████░_|  E  E
    B   | |  ___________________  |               |  ____________________ |  →  S
    ←   |_|_|___________________|_|_______________|_|____________________||  
        |||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
        -------------------------------------------------------------------''',
        '''
      -----------BIBLIOTECA-------------------------------------------------
         _________________________________________________________________
        |                       E S T A N T E                             |      
        |                     _________________                           |   →
        |                    |                 |                          |   P
    ←   |                    |    _________    |                          |   U
    S   |   S I L L A        |   || | | / /|   |                          |   E
    A   |  __                |   ||_|_|/_/_|   |                          |   R
    M   |  ||                |                 |        G A V E T E R O   |   T
    Á   |  ||                |    _________    |        _______________   |   A
    N   |  ||                |   |\ \ | || |   |       |   _________   |  |   
    ←   |  ||________        |   |_\_\|_||_|   |       |  |____◌____|  |  |   L
        |  ||=======||       |                 |       |   _________   |  |   A
        |  ||       ||       |   ___________   |       |  |____◌____|  |  |   B
        |__||_______||_______|__|___________|__|_______|_______________|__|   →
        |||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
        -------------------------------------------------------------------''',
        '''
      ----------PLAZA RECTORADO----------------------------------------------
         _________________________________________________________________
        |                                                                 |
        |         S A M Á N          # #### ####                          |   →
        |                         ### \/#|### |/####                      |   B
        |                       ##\/#/ \||/##/_/##/_#                     |   I
        |                       ###  \/###|/ \/ # ###                     |   B
        |                     ##_\_#\_\## | #/###_/_####                  |   L
        |                    ## #### # \ #| /  #### ##/##                 |   I
        |                     __#_--###`  |{,###---###-~                  |   O
        |                              \ }{                               |   T
        |     B A N C O  1              }}{              B A N C O  2     |   E
        |                               }}{                               |   C
        |     ____________              {{}              ____________     |   A
        |_____|__________|________, -=-~{ .-^- __________|__________|_____|   →
        |||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
        -------------------------------------------------------------------''',
        ['''
      ----------PASILLO LABORATORIOS-----------------------------------------
         _________________________________________________________________
        |                   P U E R T A   A L   L A B                     |
    ←   |                   _________________________                     |   
    B   |                  |            |            |                    |   
    I   |                  |            |            |                    |   
    B   |                  |            |            |                    |   
    L   |                  |            |            |                    |   
    I   |                  |            |            |                    |   
    O   |                  |        ==O | O==        |                    |   
    T   |                  |            |            |                    |   
    E   |                  |            |            |                    |   
    C   |                  |            |            |                    |   
    A   |                  |            |            |                    |   
    ←   |__________________|____________|____________|____________________|   
        |||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
        -------------------------------------------------------------------''',
        '''
      ----------PASILLO LABORATORIOS-----------------------------------------
        _________________________________________________________________
        |                   P U E R T A   A L   L A B                     |  ↑
    ←   |      ------------ _________________________ ------------        |  L   
    B   |      |           |                         |           |        |  A 
    I   |      |           |    ---------------      |           |        |  B 
    B   |      |           |   |               |     |           |        |  O 
    L   |      |           |   |               |     |           |        |  R 
    I   |      |           |    ---------------      |           |        |  A 
    O   |      |  0=       |                         |        =0 |        |  T 
    T   |      |           | ------------------------|           |        |  O 
    E   |      |           |                         |           |        |  R 
    C   |      |           |                         |           |        |  I 
    A   |      |           |                         |           |        |  O 
    ←   |______|___________|_________________________|___________|________|  ↑
        |||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
        -------------------------------------------------------------------'''],
        '''
      ----------CUARTO DE SERVIDORES-----------------------------------------
         _________________________________________________________________
        |                             P U E R T A                         |
    ←   |                           ________________                      |   
    L   |                           |              |                      |   
    A   |     E S T A N T E         |              |                      |   
    B   |                           |              |                      |   
    O   |    |=============|        |              |                      |   
    R   |    |             |        |              |                      |   
    A   |    |=============|        | O==          |    P A P E L E R A   |   
    T   |    |             |        |              |       _______        |   
    O   |    |=============|        |              |      |███████|       |   
    R   |    |             |        |              |      |       |       |   
    I   |    |=============|        |              |      |       |       |   
    O   |____|_____________|________|______________|_______\_____/________|   
    ←   |||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
        -------------------------------------------------------------------'''
        ]

    room_objects_images = [
        [
            ['''
         ______________________________________________________________________
        |                                                                      |
        |                                                                      |
        |         ===================================================          |
        |        ||                        _______________          ||         |
        |        ||                       | A E C J G F H |         ||         |
        |        ||       ◯ /             | H O L A N P L |         ||         |
        |        ||      S||              | Q W S I P A K |         ||         |
        |        ||       |\              | D V L I X N E |         ||         |
        |        ||                       | G I O R B T B |         ||         |
        |        ||                       |_𝖫_𝖨_𝖫_𝖨_𝖸_𝖴_𝖯_|         ||         |
        |        ||                                                 ||         |
        |        ||                                                 ||         |
        |        ||_________________________________________________||         |
        |        -----------------------------------------------------         |
        |                                                                      |
        |______________________________________________________________________|
        ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||''',
        '''
         ______________________________________________________________________
        |                                                                      |
        |                                                                      |
        |         ===================================================          |
        |        ||                        _______________          ||         |
        |        ||                       | A E C J G F H |         ||         |
        |        ||       ◯ /             | H O L A N P L |         ||         |
        |        ||      S||              | Q W S I P A K |         ||         |
        |        ||       |\              | D V L I X N E |         ||         |
        |        ||                       | G I O R B T B |         ||         |
        |        ||  █▀▀ █   █▀▀ ▄▀█ █▀█  |_L_𝖨_𝖫_𝖨_𝖸_𝖴_𝖯_|         ||         |
        |        ||  █▄▄ █▄▄ ██▄ █▀█ █▀▄                            ||         |
        |        ||                                                 ||         |
        |        ||_________________________________________________||         |
        |        -----------------------------------------------------         |
        |                                                                      |
        |______________________________________________________________________|
        ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||'''],

        ['''
         ______________________________________________________________________
        |                                                                      |
        |                                                                      |
        |                                                                      |
        |                                                                      |
        |                       ▐▓█▀▀▀▀▀▀▀▀▀█▓▌░▄▄▄▄▄░                         |
        |                       ▐▓█  -   -  █▓▌░█▄▄▄█░                         |
        |                       ▐▓█    ∩    █▓▌░█▄▄▄█░                         |
        |                       ▐▓█▄▄▄▄▄▄▄▄▄█▓▌░█████░                         |
        |                _______░░░░▄▄███▄▄░░░░░█████░________                 |
        |               |_____________________________________|                |
        |                |   _____________________________   |                 |
        |                |  |      ____________           |  |                 |
        |                |  |      ============           |  |                 |
        |                |  |      ||        ||           |  |                 |
        |                |  |      ||        ||           |  |                 |
        |________________|__|______||________||___________|__|_________________|
        ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||''',
        '''
         ______________________________________________________________________
        |                                                                      |
        |                         █▀▀ █   █▀▀ ▄▀█ █▀█                          |
        |                         █▄▄ █▄▄ ██▄ █▀█ █▀▄                          |
        |                                                                      |
        |                       ▐▓█▀▀▀▀▀▀▀▀▀█▓▌░▄▄▄▄▄░                         |
        |                       ▐▓█░░░░░░░░░█▓▌░█▄▄▄█░                         |
        |                       ▐▓█░░░░░░░░░█▓▌░█▄▄▄█░                         |
        |                       ▐▓█▄▄▄▄▄▄▄▄▄█▓▌░█████░                         |
        |                _______░░░░▄▄███▄▄░░░░░█████░________                 |
        |               |_____________________________________|                |
        |                |   _____________________________   |                 |
        |                |  |      ____________           |  |                 |
        |                |  |      ============           |  |                 |
        |                |  |      ||        ||           |  |                 |
        |                |  |      ||        ||           |  |                 |
        |________________|__|______||________||___________|__|_________________|
        ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||'''],
                ['''
         ______________________________________________________________________
        |                                                                      |
        |                                                                      |
        |                                                                      |
        |                                                                      |
        |                       ▐▓█▀▀▀▀▀▀▀▀▀█▓▌░▄▄▄▄▄░                         |
        |                       ▐▓█ ᵖᵃˢˢʷᵒʳᵈ█▓▌░█▄▄▄█░                         |
        |                       ▐▓█ ------- █▓▌░█▄▄▄█░                         |
        |                       ▐▓█▄▄▄▄▄▄▄▄▄█▓▌░█████░                         |
        |                _______░░░░▄▄███▄▄░░░░░█████░________                 |
        |               |_____________________________________|                |
        |                |   _____________________________   |                 |
        |                |  |      ____________           |  |                 |
        |                |  |      ============           |  |                 |
        |                |  |      ||        ||           |  |                 |
        |                |  |      ||        ||           |  |                 |
        |________________|__|______||________||___________|__|_________________|
        ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||''',
        '''
         ______________________________________________________________________
        |                                                                      |
        |                         █▀▀ █   █▀▀ ▄▀█ █▀█                          |
        |                         █▄▄ █▄▄ ██▄ █▀█ █▀▄                          |
        |                                                                      |
        |                       ▐▓█▀▀▀▀▀▀▀▀▀█▓▌░▄▄▄▄▄░                         |
        |                       ▐▓█░░░░░░░░░█▓▌░█▄▄▄█░                         |
        |                       ▐▓█░░░░░░░░░█▓▌░█▄▄▄█░                         |
        |                       ▐▓█▄▄▄▄▄▄▄▄▄█▓▌░█████░                         |
        |                _______░░░░▄▄███▄▄░░░░░█████░________                 |
        |               |_____________________________________|                |
        |                |   _____________________________   |                 |
        |                |  |      ____________           |  |                 |
        |                |  |      ============           |  |                 |
        |                |  |      ||        ||           |  |                 |
        |                |  |      ||        ||           |  |                 |
        |________________|__|______||________||___________|__|_________________|
        ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||''']
        ], 
        [
            ['''
         ______________________________________________________________________
        |                     ____________________________                     |
        |                     |                          |                     |
        |                     |     ________________     |                     |
        |                     |    ||  |   | |  /  /|    |                     |
        |                     |    ||  |   | | /  / |    |                     |
        |                     |    ||__|___|_|/__/__|    |                     |
        |                     |                          |                     |
        |                     |                          |                     |
        |                     |     ________________     |                     |
        |                     |    |\  \  |  | |  | |    |                     |
        |                     |    | \  \ |  | |  | |    |                     |
        |                     |    |__\__\|__|_|__|_|    |                     |
        |                     |                          |                     |
        |                     |                          |                     |
        |                     |     ________________     |                     |
        |_____________________|____|________________|____|_____________________|
        ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||''',

        '''
         ______________________________________________________________________
        |                     ____________________________                     |
        |                     |                          |                     |
        |                     |     ________________     |                     |
        |                     |    ||  |   | |  /  /|    |                     |
        |                     |    ||  |   | | /  / |    |                     |
        |                     |    ||__|___|_|/__/__|    |                     |
        |                     |                          |                     |
        |                     |                          | █▀▀ █   █▀▀ ▄▀█ █▀█ |
        |                     |     ________________     | █▄▄ █▄▄ ██▄ █▀█ █▀▄ |
        |                     |    |\  \  |  | |  | |    |                     |
        |                     |    | \  \ |  | |  | |    |                     |
        |                     |    |__\__\|__|_|__|_|    |                     |
        |                     |                          |                     |
        |                     |                          |                     |
        |                     |     ________________     |                     |
        |_____________________|____|________________|____|_____________________|
        ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||'''],

        ['''
         ______________________________________________________________________
        |                     ______                                           |
        |                     |    |                                           |
        |                     |    |                                           |
        |                     |    |                                           |
        |                     |    |                                           |
        |                     |    |                                           |
        |                     |    |                                           |
        |                     |    |                                           |
        |                     |    |_____________________                      |
        |                     |    |                     |                     |
        |                     |    |================|    |                     |
        |                     |    |                |    |                     |
        |                     |    |                |    |                     |
        |                     |    |                |    |                     |
        |                     |    |                |    |                     |
        |_____________________|____|________________|____|_____________________|
        ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||''',
        '''
         ______________________________________________________________________
        |                     ______                                           |
        |                     |    |                                           |
        |                     |    |                                           |
        |                     |    |                                           |
        |                     |    |                                           |
        |                     |    |        █▀▀ █   █▀▀ ▄▀█ █▀█                |
        |                     |    |        █▄▄ █▄▄ ██▄ █▀█ █▀▄                |
        |                     |    |                                           |
        |                     |    |_____________________                      |
        |                     |    |                     |                     |
        |                     |    |================|    |                     |
        |                     |    |                |    |                     |
        |                     |    |                |    |                     |
        |                     |    |                |    |                     |
        |                     |    |                |    |                     |
        |_____________________|____|________________|____|_____________________|
        ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||'''],
        ['''
         ______________________________________________________________________
        |                                                                      |
        |                                                                      |
        |                                                                      |
        |               _______________________________________                |
        |              |                                       |               |
        |              |     _____________________________     |               |
        |              |    |                             |    |               |
        |              |    |              ◯              |    |               |
        |              |    |______________🔒_____________|    |               |
        |              |                                       |               |
        |              |     _____________________________     |               |
        |              |    |                             |    |               |
        |              |    |              ◯              |    |               |
        |              |    |_____________________________|    |               |
        |              |                                       |               |
        |______________|_______________________________________|_______________|
        ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||''',
        '''
         ______________________________________________________________________
        |                                                                      |
        |                         █▀▀ █   █▀▀ ▄▀█ █▀█                          |
        |                         █▄▄ █▄▄ ██▄ █▀█ █▀▄                          |
        |               _______________________________________                |
        |              |                                       |               |
        |              |     _____________________________     |               |
        |              |    |                             |    |               |
        |              |    |              ◯              |    |               |
        |              |    |______________🔓_____________|    |               |
        |              |                                       |               |
        |              |     _____________________________     |               |
        |              |    |                             |    |               |
        |              |    |              ◯              |    |               |
        |              |    |_____________________________|    |               |
        |              |                                       |               |
        |______________|_______________________________________|_______________|
        ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||''']
        ],
        [
            ['''
         ______________________________________________________________________
        |                                                                      |
        |                                                                      |
        |                                  ###  ## #                           |
        |                             # #### #  ## ### ##                      |
        |                          # ### # #### #### #### #                    |
        |                         ### ### \/#|### |/#### ##                    |
        |                      # # ##\/#/ \||/##/_/##/_# ###                   |
        |                    ## # ###  \/###|/ \/ # ### ## # #                 |
        |                     ## ##_\_#\_\## | #/###_/_#### # #                |
        |                    ## #### #### # \ #| /  #### ##/##                 |
        |                      #__#_--###`  |{,###---###-~ #                   |
        |                                  \ }{/                               |
        |                                   }}{                                |
        |                                   }}{                                |
        |                                   {{}                                |
        |_____________________________, -=-~{ .-^- ____________________________|
        ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||''',
        '''
         ______________________________________________________________________
        |                                                                      |
        |                                                                      |
        |    █▀▀ █   █▀▀ ▄▀█ █▀█           ###  ## #                           |
        |    █▄▄ █▄▄ ██▄ █▀█ █▀▄      # #### #  ## ### ##                      |
        |                          # ### # #### #### #### #                    |
        |                         ### ### \/#|### |/#### ##                    |
        |                      # # ##\/#/ \||/##/_/##/_# ###                   |
        |                    ## # ###  \/###|/ \/ # ### ## # #                 |
        |                     ## ##_\_#\_\## | #/###_/_#### # #                |
        |                    ## #### #### # \ #| /  #### ##/##                 |
        |                      #__#_--###`  |{,###---###-~ #                   |
        |                                  \ }{/                               |
        |                                   }}{                                |
        |                                   }}{                                |
        |                                   {{}                                |
        |_____________________________, -=-~{ .-^- ____________________________|
        ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||'''],

        ['''
         ______________________________________________________________________
        |                                                                      |
        |                                                                      |
        |                                                                      |
        |                                                                      |
        |                                                                      |
        |                                                                      |
        |                                                                      |
        |                                                                      |
        |              _________________________________________               |
        |             |_________________________________________|              |
        |              |     _____________________________     |               |
        |              |    |                             |    |               |
        |              |    |                             |    |               |
        |              |    |                             |    |               |
        |              |    |                             |    |               |
        |______________|____|_____________________________|____|_______________|
        ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||''',
        '''
         ______________________________________________________________________
        |                                                                      |
        |                                                                      |
        |                                                                      |
        |                         █▀▀ █   █▀▀ ▄▀█ █▀█                          |
        |                         █▄▄ █▄▄ ██▄ █▀█ █▀▄                          |
        |                                                                      |
        |                                                                      |
        |                                                                      |
        |              _________________________________________               |
        |             |_________________________________________|              |
        |              |     _____________________________     |               |
        |              |    |                             |    |               |
        |              |    |                             |    |               |
        |              |    |                             |    |               |
        |              |    |                             |    |               |
        |______________|____|_____________________________|____|_______________|
        ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
        '''],
        ['''
         ______________________________________________________________________
        |                                                                      |
        |                                                                      |
        |                                                                      |
        |                                                                      |
        |                                                                      |
        |                                                                      |
        |                                                                      |
        |                                                                      |
        |              _________________________________________               |
        |             |_________________________________________|              |
        |              |     _____________________________     |               |
        |              |    |                             |    |               |
        |              |    |                             |    |               |
        |              |    |                             |    |               |
        |              |    |                             |    |               |
        |______________|____|_____________________________|____|_______________|
        ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||''',
        '''
         ______________________________________________________________________
        |                                                                      |
        |                                                                      |
        |                                                                      |
        |                         █▀▀ █   █▀▀ ▄▀█ █▀█                          |
        |                         █▄▄ █▄▄ ██▄ █▀█ █▀▄                          |
        |                                                                      |
        |                                                                      |
        |                                                                      |
        |              _________________________________________               |
        |             |_________________________________________|              |
        |              |     _____________________________     |               |
        |              |    |                             |    |               |
        |              |    |                             |    |               |
        |              |    |                             |    |               |
        |              |    |                             |    |               |
        |______________|____|_____________________________|____|_______________|
        ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
        ''']
        ],
        [
        ['''
         ______________________________________________________________________
        |                 ___________________________________                  |
        |                |                 |                 |                 |
        |                |                 |                 |                 |
        |                |                 |                 |                 |
        |                |                 |                 |                 |
        |                |                 |                 |                 |
        |                |                 |                 |                 |
        |                |                 |                 |                 |
        |                |           ===◯ 🔒  ◯===           |                 |
        |                |                 |                 |                 |
        |                |                 |                 |                 |
        |                |                 |                 |                 |
        |                |                 |                 |                 |
        |                |                 |                 |                 |
        |                |                 |                 |                 |
        |________________|_________________|_________________|_________________|
        ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||''',
        '''
         ______________________________________________________________________
        |---------------- ___________________________________ ---------------- |
        |                |      ====================         |                ||
        |                |     |                    |        |                ||
        |                |     |                    |        |                ||
        |                |     |                    |        |                ||
        |                |      ====================         |                ||
        |                |                                   |                ||
        |                |                                   |                ||
        |O=              |                                   |             =O ||
        |                |-----------------------------------|                ||
        |                |                                   |                ||
        |                |        █▀▀ █   █▀▀ ▄▀█ █▀█        |                ||
        |                |        █▄▄ █▄▄ ██▄ █▀█ █▀▄        |                ||
        |                |                                   |                ||
        |                |                                   |                ||
        |________________|___________________________________|________________||
        ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||''']
        ],
        [
            ['''
         ______________________________________________________________________
        |                       ________________________                       |
        |                      |                        |                      |
        |                      |                        |                      |
        |                      |                        |                      |
        |                      |                        |                      |
        |                      |                        |                      |
        |                      |                        |                      |
        |                      |                        |                      |
        |                      | ◯===                   |                      |
        |                      |                        |                      |
        |                      |                        |                      |
        |                      |                        |                      |
        |                      |                        |                      |
        |                      |                        |                      |
        |                      |                        |                      |
        |______________________|________________________|______________________|
        ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||'''],

        ['''
         ______________________________________________________________________
        |                     _                          _                     |
        |                    | |========================| |                    |
        |                    | |                        | |                    |
        |                    | |                        | |                    |
        |                    | |                        | |                    |
        |                    | |========================| |                    |
        |                    | |                        | |                    |
        |                    | |                        | |                    |
        |                    | |                        | |                    |
        |                    | |========================| |                    |
        |                    | |                        | |                    |
        |                    | |                        | |                    |
        |                    | |                        | |                    |
        |                    | |========================| |                    |
        |                    | |                        | |                    |
        |____________________|_|________________________|_|____________________|
        ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||''',
        '''
         ______________________________________________________________________
        |                     _                          _                     |
        |                    | |========================| |                    |
        |                    | |   █▀▀ █   █▀▀ ▄▀█ █▀█  | |                    |
        |                    | |   █▄▄ █▄▄ ██▄ █▀█ █▀▄  | |                    |
        |                    | |                        | |                    |
        |                    | |========================| |                    |
        |                    | |                        | |                    |
        |                    | |                        | |                    |
        |                    | |                        | |                    |
        |                    | |========================| |                    |
        |                    | |                        | |                    |
        |                    | |                        | |                    |
        |                    | |                        | |                    |
        |                    | |========================| |                    |
        |                    | |                        | |                    |
        |____________________|_|________________________|_|____________________|
        ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||'''],
                ['''
         ______________________________________________________________________
        |                                                                      |
        |                                                                      |
        |                      ___________________________                     |
        |                     |███████████████████████████|                    |
        |                     |███████████████████████████|                    |
        |                     |███████████████████████████|                    |
        |                     |                           |                    |
        |                     |                           |                    |
        |                     |                           |                    |
        |                     |                           |                    |
        |                     |                           |                    |
        |                     |                           |                    |
        |                     |                           |                    |
        |                     \                           /                    |
        |                      \                         /                     |
        |_______________________\_______________________/______________________|
        ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||''',
        '''
         ______________________________________________________________________
        |                                                                      |
        |                                                                      |
        |                      ___________________________                     |
        |                     |███████████████████████████|                    |
        |                     |███████████████████████████|                    |
        |                     |███████████████████████████|                    |
        |                     |                           |                    |
        |                     |                           |                    |
        |                     |                           |                    |
        |                     |    █▀▀ █   █▀▀ ▄▀█ █▀█    |                    |
        |                     |    █▄▄ █▄▄ ██▄ █▀█ █▀▄    |                    |
        |                     |                           |                    |
        |                     |                           |                    |
        |                     \                           /                    |
        |                      \                         /                     |
        |_______________________\_______________________/______________________|
        ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||''']
        
        ]
    ]

    games = {}
    for room in rooms_information:
        games[room['name']] = {}
        for room_object in room['objects']:
            games[room['name']][room_object['name']] = room_object['game']
            

    games['Laboratorio SL001'], games['Biblioteca'], games['Plaza Rectorado'], games['Pasillo Laboratorios '], games['Cuarto de Servidores '] = define_games(games)

  
    laboratory = Room(rooms_information[0]['name'], create_room_objects(rooms_information[0]['objects'], room_objects_images[0], games['Laboratorio SL001']), rooms_images[0]) #el orden de las listas que contienen las listas de imágenes de cada objeto asociado a un cuarto en rooms_objects_images (así como la lista de las imágenes de cada cuarto rooms_images) están ordenadas del mismo modo que la lista rooms_information (es decir que si un cuarto está en una posición x en rooms_information, en la posición x de rooms_objects_images estará la lista de listas de las imágenes de los objetos de dicho cuarto y en ese mismo índice x estará la(s) imagen(es) del cuarto en la lista rooms_images)
    library = Room(rooms_information[1]['name'], create_room_objects(rooms_information[1]['objects'], room_objects_images[1], games['Biblioteca']), rooms_images[1])
    plaza = Room(rooms_information[2]['name'], create_room_objects(rooms_information[2]['objects'], room_objects_images[2], games['Plaza Rectorado']), rooms_images[2])
    corridor = Room(rooms_information[3]['name'], create_room_objects(rooms_information[3]['objects'], room_objects_images[3], games['Pasillo Laboratorios ']), rooms_images[3])
    server_room = Room(rooms_information[4]['name'], create_room_objects(rooms_information[4]['objects'], room_objects_images[4], games['Cuarto de Servidores ']), rooms_images[4])

    laboratory.set_left_room(corridor)
    laboratory.set_right_room(server_room)

    library.set_left_room(plaza)
    library.set_right_room(corridor)

    plaza.set_right_room(library)

    corridor.set_left_room(library)
    corridor.set_right_room(laboratory)

    server_room.set_left_room(laboratory)

    return laboratory, library, plaza, corridor, server_room

def create_room_objects(items, images, games):
    """Función para instanciar cada objeto (RoomObject) de un cuarto.

    Args:
        items (dict): diccionario con la información de cada objeto de un cuarto.
        images (list): lista de imágenes de cada objeto de cuarto.
        games (list): lista de juegos de cada objeto.

    Returns:
        list: lista de objetos instanciados RoomObject de un cuarto.
    """
    
    objects = []

    for i, item in enumerate(items): #el orden de los elementos correspondientes a cada objeto en la lista de listas images es el mismo orden en el que aparecen los objetos en la lista items: por tanto, podemos usar el índice i para obtener la lista de imágenes correspondientes a un objeto determinado. lo mismo ocurre con los juegos asociados a un objeto.
        room_object = RoomObject(item['name'], item['position'], images[i], games[i])
        objects.append(room_object)

    return objects

def go_to_room(room, player):
    """Función que permite al usuario visitar un cuarto, interactuar con sus objetos, ver vidas, tiempo y pistas restantes.

    Args:
        room (Room): cuarto en el que se encuentra el jugador actualmente (en el juego).
        player (Player): instancia de la clase Player asociada al jugador que juega actualmente.

    Raises:
        IndexError: si el usuario ingresa por teclado un usuario inválido para la lista mostrada de objetos.

    Returns:
        Room: cuarto en el que está el jugador después de terminar las acciones interactuar con un objeto/ir a otro cuarto.
    """
    os.system('clear') #esto "limpia" todo en la terminal
    if player.get_current_room() != room: #chequea que en realidad haya cambiado el cuarto a visitar (si no, no se cuenta como una nueva visita ni es necesario cambiar el valor del atributo current_room del jugador)
        player.visit_room(room)
    print(room)
    while True:
        print("\n\n\tMENÚ DE ACCIONES:\nIngresa:\n1. Para interactuar con un objeto 🖐️\n2. Para ir a otro cuarto 🚶\n3. Para ver tiempo restante ⏰ \n4. Para ver tu inventario 🎒\n5. Para ver cuántas vidas te quedan 🧡\n6. Para ver cuántas pistas te quedan 🔎")
        player_action = input("\n> ")

        if player_action == '1':

            print("\n\tOBJETOS:")
            for i, room_object in enumerate(room.get_objects()):
                print(f"{i+1}. {room_object.get_name().capitalize()}.")
            while True:
                try:
                    index = int(input('Ingresa el número correspondiente al objeto con el que quieres interactuar: '))
                    if index < 1 or index > len(room.get_objects()): #como se muestran los índices a partir del 1, no debe ser menor a 1 o mayor al largo de la lista de objetos el índice que ingresa el usuario para ser válido.
                        raise IndexError
                    break #si no hubo ningún error, el índice es válido
                except (ValueError, IndexError): #si el usuario ingresó algo distinto a un número entero o el índice ingresado es inválido
                    print("ERROR: ingreso inválido.")
            
            room_object = room.get_objects()[index-1] #se le resta 1 al índice porque se muestran los índices a partir del 1 pero realmente son a partir del 0
            os.system('clear') 
            print(room_object)
            room_object.get_game().intro_game(player) #el método get_game del objeto retorna el juego del objeto seleccionado. luego, el método intro_game del juego permite que el juego comience (si se dan las condiciones para ello)
            input("Presiona 'enter' para seguir\n▶️ ")
            return room

        elif player_action == '2':
            
            print("\n\tINGRESA...")
            
            if room.get_left_room() != None:
                print(f"\n[L] para ir a {room.get_left_room().get_name()} ←")
            
            if room.get_name() != 'Pasillo Laboratorios ' and room.get_right_room() != None:
                print(f"\n[R] para ir a {room.get_right_room().get_name()} →")
            elif room.get_objects()[0].get_is_cleared(): #como el cuarto actual es Pasillo Laboratorios , ocurre algo especial: sólo puedes ir al laboratorio una vez hayas ganado el juego de la puerta (de este modo se abre dicha puerta). Por tanto, aunque este cuarto tenga como cuarto a la derecha al Laboratorio SL001, sólo se mostrará como opción si la puerta está abierta (es decir, si el único objeto -la puerta- que es devuelto por get_objects()[0] ya fue 'cleared') 
                print(f"\n[R] para ir a {room.get_right_room().get_name()} ↑")

            print(f"\nCualquier otro caracter para permanecer en {room.get_name()} ↓")

            player_action = input("\n>").lower() #se actualiza el valor de room (si el usuario decide moverse a un cuarto distinto, si no, se mantiene el valor de room con el room actual) y se retorna.
            if player_action == 'l' and room.get_left_room() != None:
                room = room.get_left_room()
            elif player_action == 'r':
                if room.get_name() != 'Pasillo Laboratorios ' and room.get_right_room() != None:
                    room = room.get_right_room()
                elif room.get_objects()[0].get_is_cleared(): 
                    room = room.get_right_room()
            
            return room

        elif player_action == '3':
            print(f"\n⏰⏰ El tiempo restante es: {player.get_time_left()} segundo(s) ⏰⏰")

        elif player_action == '4':
            print("\n", "INVENTARIO".center(120, "-"), "\n")
            if player.get_inventory(): #chequea si hay algo en el inventario que mostrar, de lo contrario imprime que está vacío
                for item in player.get_inventory():
                    print(f"\t- {item.capitalize()}")
            else:
                print("Tu inventario está vacío.\n")
            print("\n","-"*120, "\n")

        elif player_action == '5':
            print(f"\n🧡🧡 Te quedan {player.get_lives()} vida(s) 🧡🧡\n")

        elif player_action == '6':
            print(f"\n🔎🔎 Te quedan {player.get_clues()} pista(s) 🔎🔎\n")

        else:
            print("\nIngreso inválido.")